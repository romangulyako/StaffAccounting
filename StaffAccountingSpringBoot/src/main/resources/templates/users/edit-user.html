<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title th:text="#{edit_user}"/>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
<div th:replace="~{header :: header}"></div>
<main>
    <div th:replace="~{menu :: menu}"></div>
    <div class="form-group">
        <h2 th:text="#{edit_user}"/>
        <div class="filling-form">
            <form id="save"
                  th:action="@{/users/edit}"
                  th:object="${user}"
                  method="post">
                <input type="hidden"
                       th:field="*{id}"
                       th:value="${user.id}">
                <div class="input-wrapper">
                    <fieldset>
                        <legend th:text="#{user_name}"/>
                        <input type="text"
                               th:field="*{username}"
                               th:placeholder="#{user_name_placeholder}"
                               th:value="${user.username}"
                               required>
                    </fieldset>
                </div>
                <div class="input-wrapper">
                    <fieldset>
                        <legend th:text="#{password}"/>
                        <input type="password"
                               th:field="*{password}"
                               th:value="${user.password}"
                               th:placeholder="#{password_placeholder}"
                               required>
                    </fieldset>
                </div>
                <div class="input-wrapper">
                    <fieldset class="role-list-container">
                        <legend th:text="#{privileges}"/>
                        <ul class="role-list" th:each="role : ${roles}">
                            <li>
                                <input type="checkbox"
                                       th:value="${role.name}"
                                       th:field="*{authorities}"
                                       th:text="${role.name}"
                                       th:checked="${#lists.contains(user.authorities, role)}">
                            </li>
                        </ul>
                    </fieldset>
                </div>
            </form>
            <div class="footer-buttons-block">
                <button form="save"
                        class="footer-button, button-add"
                        th:text="#{save_button}"/>
                <form th:action="@{/users}"
                      method="get">
                    <button class="footer-button"
                            th:text="#{back_to_users}"/>
                </form>
            </div>
        </div>
    </div>
</main>
<div th:replace="~{footer :: footer}"></div>
</body>
</html>